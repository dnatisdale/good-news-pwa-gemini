{"ast":null,"code":"var _jsxFileName = \"C:\\\\GitHub\\\\good-news-pwa-gemini\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { useState, useMemo, useEffect } from \"react\";\nimport { useFirebase } from \"./hooks/useFirebase\";\nimport { i18n } from \"./i18n\";\nimport { Home, Search, Bookmark, Pen, Settings, Menu, X, ChevronLeft,\n// Added for detail back button\nShare2, Zap, Download // Added for content export\n} from \"./components/Icons\";\nimport { staticContent } from \"./data/staticContent\"; // Ensure your file is named staticContent.js\nimport QRCodeDisplay from \"./components/QRCodeDisplay\";\n\n// --- CONSTANTS ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PRIMARY_COLOR = \"bg-brand-red\"; // Your primary theme color\nconst ACCENT_COLOR = \"text-brand-red\";\nconst TEXT_COLOR = \"text-gray-800\";\n\n// You will need to create a helper for copyLink, used as a share fallback\nconst copyLink = (text, callback) => {\n  navigator.clipboard.writeText(text).then(() => callback(\"Link copied!\")).catch(() => callback(\"Failed to copy link.\"));\n};\n\n// --- Reusable Components ---\n\n// Content Card Component\nconst ContentCard = ({\n  item,\n  lang,\n  onSelect\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-4 mb-4 rounded-xl shadow-md border-t-4 border-brand-red cursor-pointer transition-transform hover:shadow-lg hover:scale-[1.01]\",\n    onClick: () => onSelect(item),\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: `text-xl font-bold mb-1 ${ACCENT_COLOR}`,\n      children: lang === \"en\" ? item.title_en : item.title_th\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `text-sm font-semibold text-gray-500 mb-2`,\n      children: item.language\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `text-base line-clamp-2 ${TEXT_COLOR}`,\n      children: lang === \"en\" ? item.verse_en : item.verse_th\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n// Language Toggle Component\n_c = ContentCard;\nconst LanguageToggle = ({\n  lang,\n  setLang,\n  t\n}) => {\n  const toggleLang = () => {\n    const newLang = lang === \"en\" ? \"th\" : \"en\";\n    setLang(newLang);\n    localStorage.setItem(\"appLang\", newLang);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center space-x-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-sm font-semibold text-white\",\n      children: [t.language_label, \":\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleLang,\n      className: `p-2 rounded-lg font-bold transition-colors shadow-sm text-brand-red bg-white hover:bg-gray-200`,\n      children: lang === \"en\" ? \"ไทย\" : \"English\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Page Components ---\n\n// Content View Component (Detail Page)\n_c2 = LanguageToggle;\nconst ContentView = ({\n  item,\n  lang,\n  t,\n  onBack,\n  userData,\n  saveUserData\n}) => {\n  const isBookmarked = userData.bookmarks.includes(item.id);\n  const cardUrl = `${window.location.origin}/?card=${item.id}&lang=${lang}`; // Unique URL for this card\n\n  const toggleBookmark = () => {\n    let newBookmarks;\n    if (isBookmarked) {\n      newBookmarks = userData.bookmarks.filter(id => id !== item.id);\n    } else {\n      newBookmarks = [...userData.bookmarks, item.id];\n    }\n    saveUserData({\n      ...userData,\n      bookmarks: newBookmarks\n    });\n  };\n\n  // Function to generate the content string for sharing\n  const generateShareText = () => {\n    return `\n${t.app_name} - ${lang === \"en\" ? item.title_en : item.title_th}\n${lang === \"en\" ? item.verse_en : item.verse_th}\nLanguage: ${item.language}\nProgram Number: ${item.id}\nRead more: ${cardUrl}\n        `.trim();\n  };\n  const handleShare = () => {\n    const shareText = generateShareText();\n    if (navigator.share) {\n      // Use Web Share API for native sharing on mobile\n      navigator.share({\n        title: t.app_name,\n        text: shareText,\n        url: cardUrl\n      }).catch(error => console.log(\"Error sharing\", error));\n    } else {\n      // Fallback for desktop: copy text to clipboard\n      copyLink(shareText, message => alert(message));\n    }\n  };\n\n  // Logic to download the QR code as a PNG file\n  const downloadQrCode = () => {\n    const svg = document.querySelector(\"#qr-code-to-download svg\");\n    if (svg) {\n      const svgData = new XMLSerializer().serializeToString(svg);\n      const canvas = document.createElement(\"canvas\");\n      const svgSize = 500;\n      canvas.width = svgSize;\n      canvas.height = svgSize;\n      const ctx = canvas.getContext(\"2d\");\n      const img = new Image();\n      img.onload = function () {\n        ctx.drawImage(img, 0, 0, svgSize, svgSize);\n        const pngFile = canvas.toDataURL(\"image/png\");\n        const downloadLink = document.createElement(\"a\");\n        downloadLink.href = pngFile;\n        downloadLink.download = `share-${item.id}-${lang}.png`;\n        document.body.appendChild(downloadLink);\n        downloadLink.click();\n        document.body.removeChild(downloadLink);\n      };\n      // Note: Data URL conversion is necessary for images created from SVG\n      img.src = \"data:image/svg+xml;base64,\" + btoa(unescape(encodeURIComponent(svgData)));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 pt-8 h-full overflow-y-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onBack,\n      className: `text-sm font-semibold mb-4 flex items-center ${ACCENT_COLOR} hover:text-red-700 transition-colors`,\n      children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n        className: \"w-5 h-5 mr-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), t.back]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-extrabold mb-2 text-gray-800\",\n      children: lang === \"en\" ? item.title_en : item.title_th\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6 border-b pb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-base font-semibold text-gray-500\",\n        children: item.language\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleBookmark,\n        className: `p-2 rounded-full transition-colors ${isBookmarked ? \"bg-yellow-400 text-white\" : \"bg-gray-200 text-gray-600 hover:bg-yellow-300\"}`,\n        children: /*#__PURE__*/_jsxDEV(Bookmark, {\n          className: \"w-6 h-6 fill-current\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-50 p-6 rounded-xl shadow-inner mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl leading-relaxed text-gray-700 whitespace-pre-line\",\n        children: lang === \"en\" ? item.verse_en : item.verse_th\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm font-semibold text-gray-500 mt-4\",\n        children: [\"Program Number: \", item.id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-lg font-bold mb-3 mt-6 text-gray-800\",\n      children: \"Share This Message\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-3 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleShare,\n        className: \"p-3 font-bold text-white rounded-xl bg-green-500 transition-colors hover:bg-green-600 shadow-md flex items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(Share2, {\n          className: \"w-5 h-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), \" Share/Copy\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: downloadQrCode,\n        className: \"p-3 font-bold text-brand-red border border-brand-red rounded-xl transition-colors hover:bg-red-50 shadow-md flex items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(Download, {\n          className: \"w-5 h-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), \" Download QR (PNG)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center p-4 bg-white rounded-xl shadow-inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 mb-2\",\n        children: \"Scan to share this specific card.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"qr-code-to-download\",\n        children: /*#__PURE__*/_jsxDEV(QRCodeDisplay, {\n          url: cardUrl,\n          size: 200\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-red-50 border-l-4 border-brand-red rounded-lg mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold text-gray-700\",\n        children: \"My Notes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500\",\n        children: \"Notes feature coming soon! You can view all saved notes on the Notes page.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n\n// Home Page Component\n_c3 = ContentView;\nconst HomePage = ({\n  lang,\n  t,\n  onSelect\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 pt-8 h-full overflow-y-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold text-gray-800 mb-6\",\n      children: t.contents\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), staticContent.map(item => /*#__PURE__*/_jsxDEV(ContentCard, {\n      item: item,\n      lang: lang,\n      onSelect: onSelect\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-10\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 5\n  }, this);\n};\n\n// Bookmarks Page Component\n_c4 = HomePage;\nconst BookmarksPage = ({\n  lang,\n  t,\n  onSelect,\n  userData\n}) => {\n  _s();\n  const bookmarkedItems = useMemo(() => {\n    return staticContent.filter(item => userData.bookmarks.includes(item.id));\n  }, [userData.bookmarks]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 pt-8 h-full overflow-y-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold text-gray-800 mb-6\",\n      children: t.bookmarks\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), bookmarkedItems.length > 0 ? bookmarkedItems.map(item => /*#__PURE__*/_jsxDEV(ContentCard, {\n      item: item,\n      lang: lang,\n      onSelect: onSelect\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 11\n    }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center p-8 text-gray-500\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: t.no_bookmarks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm mt-2\",\n        children: t.bookmark_tip\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-10\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 5\n  }, this);\n};\n\n// Search Component\n_s(BookmarksPage, \"fvd0jaZnd1hhy5oo3T+jDuVv3dg=\");\n_c5 = BookmarksPage;\nconst SearchPage = ({\n  lang,\n  t,\n  onSelect\n}) => {\n  _s2();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  // Filter content based on search term\n  const filteredContent = useMemo(() => {\n    if (!searchTerm) return [];\n    const lowerSearchTerm = searchTerm.toLowerCase();\n    return staticContent.filter(item => {\n      // Check English title/verse, Thai title/verse, and language name\n      return item.language.toLowerCase().includes(lowerSearchTerm) || item.title_en.toLowerCase().includes(lowerSearchTerm) || item.title_th.toLowerCase().includes(lowerSearchTerm) || item.verse_en.toLowerCase().includes(lowerSearchTerm) || item.verse_th.toLowerCase().includes(lowerSearchTerm);\n    });\n  }, [searchTerm]);\n  const resultCount = filteredContent.length;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 pt-8 h-full overflow-y-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold text-gray-800 mb-6\",\n      children: t.search\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 sticky top-0 bg-gray-100 pb-4 z-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: t.search + \"...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"w-full p-3 pl-10 border border-gray-300 rounded-xl shadow-md focus:ring-brand-red focus:border-brand-red transition-all\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Search, {\n          className: `w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 ${ACCENT_COLOR}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-600 mb-4 font-semibold\",\n      children: [resultCount, \" \", resultCount === 1 ? \"Result\" : \"Results\", \" found.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 9\n    }, this), resultCount > 0 ? filteredContent.map(item => /*#__PURE__*/_jsxDEV(ContentCard, {\n      item: item,\n      lang: lang,\n      onSelect: onSelect\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 11\n    }, this)) : searchTerm ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center p-8 text-gray-500\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"No results found for \\\"\", searchTerm, \"\\\".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2 text-sm\",\n        children: \"Try searching by title, language, or a verse snippet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center p-8 text-gray-500\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Start typing to search all \", staticContent.length, \" items.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 303,\n    columnNumber: 5\n  }, this);\n};\n\n// Settings Component with Auth UI\n_s2(SearchPage, \"Z5XvlnbNlnJAfIFvVZAehTgX4z8=\");\n_c6 = SearchPage;\nconst SettingsPage = ({\n  lang,\n  t,\n  setLang,\n  userId,\n  logOut,\n  signUp,\n  signIn\n}) => {\n  _s3();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [authMessage, setAuthMessage] = useState(null);\n  // Crude check: Firebase anonymous IDs are long; real UIDs are usually shorter/different format\n  const isAnonymous = userId && userId.length > 20 && !userId.startsWith(\"firebase:\");\n  const handleAuthAction = async action => {\n    if (action === \"signup\") {\n      const success = await signUp(email, password);\n      if (success) setAuthMessage(\"Sign up successful! You are now logged in.\");else setAuthMessage(\"Sign up failed. Please check the error message in the console.\");\n    } else if (action === \"signin\") {\n      const success = await signIn(email, password);\n      if (success) setAuthMessage(\"Sign in successful!\");else setAuthMessage(\"Sign in failed. Check your email/password.\");\n    }\n    // Clear inputs\n    setEmail(\"\");\n    setPassword(\"\");\n    setTimeout(() => setAuthMessage(null), 5000);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 pt-8 h-full overflow-y-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold text-gray-800 mb-6\",\n      children: t.settings\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded-xl shadow-md mb-6 border border-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold mb-2\",\n        children: \"App Status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 mb-2\",\n        children: [\"User ID:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-mono text-xs text-brand-red\",\n          children: userId ? userId : \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `text-sm font-bold ${isAnonymous ? \"text-orange-500\" : \"text-green-600\"}`,\n        children: [\"Status: \", isAnonymous ? \"Guest (Anonymous)\" : \"Registered User\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold mt-4 mb-2\",\n        children: \"Language\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LanguageToggle, {\n        lang: lang,\n        setLang: setLang,\n        t: t\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this), authMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 mb-4 rounded-lg bg-green-100 text-green-700 font-semibold\",\n      children: authMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded-xl shadow-md mb-6 border border-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-bold text-gray-800 mb-4\",\n        children: \"Email Authentication\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 9\n      }, this), isAnonymous ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          className: \"w-full p-3 border border-gray-300 rounded-lg mb-3 focus:ring-brand-red focus:border-brand-red\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          className: \"w-full p-3 border border-gray-300 rounded-lg mb-4 focus:ring-brand-red focus:border-brand-red\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleAuthAction(\"signin\"),\n            className: \"p-3 font-bold text-white rounded-xl bg-brand-red transition-colors hover:bg-red-800\",\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleAuthAction(\"signup\"),\n            className: \"p-3 font-bold text-brand-red border border-brand-red rounded-xl transition-colors hover:bg-red-50\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logOut,\n        className: \"w-full p-3 font-bold text-white rounded-xl bg-red-600 transition-colors hover:bg-red-700\",\n        children: \"Log Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 383,\n    columnNumber: 5\n  }, this);\n};\n\n// Side Drawer Component\n_s3(SettingsPage, \"HoZLcGfHIGIZoj7SdwbXUAHsq68=\");\n_c7 = SettingsPage;\nconst SideDrawer = ({\n  isOpen,\n  onClose,\n  userId,\n  navigate,\n  t,\n  appUrl\n}) => {\n  _s4();\n  const [showQr, setShowQr] = useState(false); // State for QR code visibility\n\n  // Nav items definition\n  const navItems = [{\n    key: \"home\",\n    label: t.contents,\n    icon: Home,\n    action: () => navigate(\"home\")\n  }, {\n    key: \"search\",\n    label: t.search,\n    icon: Search,\n    action: () => navigate(\"search\")\n  }, {\n    key: \"bookmarks\",\n    label: t.bookmarks,\n    icon: Bookmark,\n    action: () => navigate(\"bookmarks\")\n  }, {\n    key: \"notes\",\n    label: t.notes,\n    icon: Pen,\n    action: () => navigate(\"notes\")\n  },\n  // This is the functional share button that toggles the QR code\n  {\n    key: \"share\",\n    label: t.share_app,\n    icon: Share2,\n    action: () => setShowQr(p => !p)\n  }, {\n    key: \"settings\",\n    label: t.settings,\n    icon: Settings,\n    action: () => navigate(\"settings\")\n  },\n  // Changed key from 'share' to 'website' to fix the console warning\n  {\n    key: \"website\",\n    label: \"5fish Website\",\n    icon: Zap,\n    action: () => window.open(\"https://5fish.mobi\", \"_blank\")\n  }];\n  const handleNavigate = path => {\n    navigate(path);\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `fixed inset-0 z-40 transform ${isOpen ? \"translate-x-0\" : \"-translate-x-full\"} transition-transform duration-300 ease-in-out`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-black opacity-50\",\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `relative w-64 bg-gray-50 h-full shadow-2xl flex flex-col`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 ${PRIMARY_COLOR} flex justify-between items-center`,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-white\",\n          children: t.menu\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-white p-1 hover:bg-red-800 rounded-full transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex-1 overflow-y-auto p-4\",\n        children: navItems.map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => item.path ? handleNavigate(item.path) : item.action(),\n          className: `flex items-center w-full p-3 rounded-xl text-left text-gray-700 hover:bg-gray-200 transition-colors mb-2 ${ACCENT_COLOR}`,\n          children: [item.icon && /*#__PURE__*/_jsxDEV(item.icon, {\n            className: `w-5 h-5 mr-3 ${ACCENT_COLOR}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: item.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 15\n          }, this)]\n        }, item.key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-200\",\n        children: showQr && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-800 mb-2\",\n            children: t.qr_code\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(QRCodeDisplay, {\n            url: appUrl,\n            size: 150\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-2 break-all\",\n            children: appUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        className: \"p-4 border-t border-gray-200 text-center text-xs text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Powered by 5fish\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"App Version 1.0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 521,\n    columnNumber: 5\n  }, this);\n};\n\n// --- MAIN APP COMPONENT ---\n_s4(SideDrawer, \"/8w/m5zZUCmQu3VWxGb4TVqys2w=\");\n_c8 = SideDrawer;\nexport default function App() {\n  _s5();\n  const [lang, setLang] = useState(localStorage.getItem(\"appLang\") || \"en\");\n  const t = i18n[lang] || i18n.en;\n  const [page, setPage] = useState(\"home\");\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n\n  // Call custom hook to manage authentication and data\n  const {\n    isAuthReady,\n    userId,\n    userData,\n    saveUserData,\n    error,\n    signUp,\n    signIn,\n    logOut\n  } = useFirebase(setLang);\n  const navigate = (path, item = null) => {\n    setPage(path);\n    setSelectedItem(item);\n  };\n\n  // EFFECT: Checks URL for shared card ID on mount\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const cardId = urlParams.get(\"card\");\n    const shareLang = urlParams.get(\"lang\");\n    if (cardId) {\n      const item = staticContent.find(i => i.id === parseInt(cardId));\n      if (item) {\n        // Navigate to the specific card\n        navigate(\"detail\", item);\n        // Optionally set the language if shared that way\n        if (shareLang && (shareLang === \"en\" || shareLang === \"th\")) {\n          setLang(shareLang);\n        }\n      }\n    }\n  }, [setLang]); // Include setLang in dependency array\n\n  // Helper to render the current page content\n  const renderContent = () => {\n    if (!isAuthReady) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-8 text-center text-gray-600\",\n        children: \"Loading authentication...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 637,\n        columnNumber: 9\n      }, this);\n    }\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-8 text-center text-red-600 font-bold\",\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 645,\n        columnNumber: 9\n      }, this);\n    }\n    switch (page) {\n      case \"detail\":\n        return /*#__PURE__*/_jsxDEV(ContentView, {\n          item: selectedItem,\n          lang: lang,\n          t: t,\n          onBack: () => setPage(\"home\"),\n          userData: userData,\n          saveUserData: saveUserData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 11\n        }, this);\n      case \"search\":\n        return /*#__PURE__*/_jsxDEV(SearchPage, {\n          lang: lang,\n          t: t,\n          onSelect: item => navigate(\"detail\", item)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 11\n        }, this);\n      case \"bookmarks\":\n        return /*#__PURE__*/_jsxDEV(BookmarksPage, {\n          lang: lang,\n          t: t,\n          onSelect: item => navigate(\"detail\", item),\n          userData: userData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 11\n        }, this);\n      case \"notes\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 pt-8 text-center text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold mb-4\",\n            children: t.notes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"This page is ready to be built!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 685,\n          columnNumber: 11\n        }, this);\n      case \"settings\":\n        return /*#__PURE__*/_jsxDEV(SettingsPage, {\n          lang: lang,\n          t: t,\n          setLang: setLang,\n          userId: userId,\n          logOut: logOut,\n          signUp: signUp,\n          signIn: signIn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 11\n        }, this);\n      case \"home\":\n      default:\n        return /*#__PURE__*/_jsxDEV(HomePage, {\n          lang: lang,\n          t: t,\n          onSelect: item => navigate(\"detail\", item)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 11\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md mx-auto h-screen flex flex-col bg-gray-100 shadow-xl\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: `sticky top-0 w-full ${PRIMARY_COLOR} p-4 shadow-lg z-30 flex justify-between items-center`,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsDrawerOpen(true),\n        className: \"text-white p-1 rounded-lg hover:bg-red-800 transition-colors\",\n        children: /*#__PURE__*/_jsxDEV(Menu, {\n          className: \"w-7 h-7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 722,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-bold text-white tracking-wide truncate px-2\",\n        children: t.app_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 728,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LanguageToggle, {\n        lang: lang,\n        setLang: setLang,\n        t: t\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 731,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-1 overflow-y-auto\",\n      children: renderContent()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 735,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SideDrawer, {\n      isOpen: isDrawerOpen,\n      onClose: () => setIsDrawerOpen(false),\n      userId: userId,\n      navigate: navigate,\n      t: t,\n      appUrl: window.location.href\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 738,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 717,\n    columnNumber: 5\n  }, this);\n}\n_s5(App, \"kCs1HQ0AzdoqYNchU3hmth5n5/w=\", false, function () {\n  return [useFirebase];\n});\n_c9 = App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"ContentCard\");\n$RefreshReg$(_c2, \"LanguageToggle\");\n$RefreshReg$(_c3, \"ContentView\");\n$RefreshReg$(_c4, \"HomePage\");\n$RefreshReg$(_c5, \"BookmarksPage\");\n$RefreshReg$(_c6, \"SearchPage\");\n$RefreshReg$(_c7, \"SettingsPage\");\n$RefreshReg$(_c8, \"SideDrawer\");\n$RefreshReg$(_c9, \"App\");","map":{"version":3,"names":["React","useState","useMemo","useEffect","useFirebase","i18n","Home","Search","Bookmark","Pen","Settings","Menu","X","ChevronLeft","Share2","Zap","Download","staticContent","QRCodeDisplay","jsxDEV","_jsxDEV","Fragment","_Fragment","PRIMARY_COLOR","ACCENT_COLOR","TEXT_COLOR","copyLink","text","callback","navigator","clipboard","writeText","then","catch","ContentCard","item","lang","onSelect","className","onClick","children","title_en","title_th","fileName","_jsxFileName","lineNumber","columnNumber","language","verse_en","verse_th","_c","LanguageToggle","setLang","t","toggleLang","newLang","localStorage","setItem","language_label","_c2","ContentView","onBack","userData","saveUserData","isBookmarked","bookmarks","includes","id","cardUrl","window","location","origin","toggleBookmark","newBookmarks","filter","generateShareText","app_name","trim","handleShare","shareText","share","title","url","error","console","log","message","alert","downloadQrCode","svg","document","querySelector","svgData","XMLSerializer","serializeToString","canvas","createElement","svgSize","width","height","ctx","getContext","img","Image","onload","drawImage","pngFile","toDataURL","downloadLink","href","download","body","appendChild","click","removeChild","src","btoa","unescape","encodeURIComponent","back","size","_c3","HomePage","contents","map","_c4","BookmarksPage","_s","bookmarkedItems","length","no_bookmarks","bookmark_tip","_c5","SearchPage","_s2","searchTerm","setSearchTerm","filteredContent","lowerSearchTerm","toLowerCase","resultCount","search","type","placeholder","value","onChange","e","target","_c6","SettingsPage","userId","logOut","signUp","signIn","_s3","email","setEmail","password","setPassword","authMessage","setAuthMessage","isAnonymous","startsWith","handleAuthAction","action","success","setTimeout","settings","_c7","SideDrawer","isOpen","onClose","navigate","appUrl","_s4","showQr","setShowQr","navItems","key","label","icon","notes","share_app","p","open","handleNavigate","path","menu","qr_code","_c8","App","_s5","getItem","en","page","setPage","selectedItem","setSelectedItem","isDrawerOpen","setIsDrawerOpen","isAuthReady","urlParams","URLSearchParams","cardId","get","shareLang","find","i","parseInt","renderContent","_c9","$RefreshReg$"],"sources":["C:/GitHub/good-news-pwa-gemini/src/App.jsx"],"sourcesContent":["import React, { useState, useMemo, useEffect } from \"react\";\r\nimport { useFirebase } from \"./hooks/useFirebase\";\r\nimport { i18n } from \"./i18n\";\r\nimport {\r\n  Home,\r\n  Search,\r\n  Bookmark,\r\n  Pen,\r\n  Settings,\r\n  Menu,\r\n  X,\r\n  ChevronLeft, // Added for detail back button\r\n  Share2,\r\n  Zap,\r\n  Download, // Added for content export\r\n} from \"./components/Icons\";\r\nimport { staticContent } from \"./data/staticContent\"; // Ensure your file is named staticContent.js\r\nimport QRCodeDisplay from \"./components/QRCodeDisplay\";\r\n\r\n// --- CONSTANTS ---\r\nconst PRIMARY_COLOR = \"bg-brand-red\"; // Your primary theme color\r\nconst ACCENT_COLOR = \"text-brand-red\";\r\nconst TEXT_COLOR = \"text-gray-800\";\r\n\r\n// You will need to create a helper for copyLink, used as a share fallback\r\nconst copyLink = (text, callback) => {\r\n  navigator.clipboard\r\n    .writeText(text)\r\n    .then(() => callback(\"Link copied!\"))\r\n    .catch(() => callback(\"Failed to copy link.\"));\r\n};\r\n\r\n// --- Reusable Components ---\r\n\r\n// Content Card Component\r\nconst ContentCard = ({ item, lang, onSelect }) => {\r\n  return (\r\n    <div\r\n      className=\"bg-white p-4 mb-4 rounded-xl shadow-md border-t-4 border-brand-red cursor-pointer transition-transform hover:shadow-lg hover:scale-[1.01]\"\r\n      onClick={() => onSelect(item)}\r\n    >\r\n      <h3 className={`text-xl font-bold mb-1 ${ACCENT_COLOR}`}>\r\n        {lang === \"en\" ? item.title_en : item.title_th}\r\n      </h3>\r\n      <p className={`text-sm font-semibold text-gray-500 mb-2`}>\r\n        {item.language}\r\n      </p>\r\n      <p className={`text-base line-clamp-2 ${TEXT_COLOR}`}>\r\n        {lang === \"en\" ? item.verse_en : item.verse_th}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Language Toggle Component\r\nconst LanguageToggle = ({ lang, setLang, t }) => {\r\n  const toggleLang = () => {\r\n    const newLang = lang === \"en\" ? \"th\" : \"en\";\r\n    setLang(newLang);\r\n    localStorage.setItem(\"appLang\", newLang);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center space-x-2\">\r\n      <span className=\"text-sm font-semibold text-white\">\r\n        {t.language_label}:\r\n      </span>\r\n      <button\r\n        onClick={toggleLang}\r\n        className={`p-2 rounded-lg font-bold transition-colors shadow-sm text-brand-red bg-white hover:bg-gray-200`}\r\n      >\r\n        {lang === \"en\" ? \"ไทย\" : \"English\"}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Page Components ---\r\n\r\n// Content View Component (Detail Page)\r\nconst ContentView = ({ item, lang, t, onBack, userData, saveUserData }) => {\r\n  const isBookmarked = userData.bookmarks.includes(item.id);\r\n  const cardUrl = `${window.location.origin}/?card=${item.id}&lang=${lang}`; // Unique URL for this card\r\n\r\n  const toggleBookmark = () => {\r\n    let newBookmarks;\r\n    if (isBookmarked) {\r\n      newBookmarks = userData.bookmarks.filter((id) => id !== item.id);\r\n    } else {\r\n      newBookmarks = [...userData.bookmarks, item.id];\r\n    }\r\n    saveUserData({ ...userData, bookmarks: newBookmarks });\r\n  };\r\n\r\n  // Function to generate the content string for sharing\r\n  const generateShareText = () => {\r\n    return `\r\n${t.app_name} - ${lang === \"en\" ? item.title_en : item.title_th}\r\n${lang === \"en\" ? item.verse_en : item.verse_th}\r\nLanguage: ${item.language}\r\nProgram Number: ${item.id}\r\nRead more: ${cardUrl}\r\n        `.trim();\r\n  };\r\n\r\n  const handleShare = () => {\r\n    const shareText = generateShareText();\r\n    if (navigator.share) {\r\n      // Use Web Share API for native sharing on mobile\r\n      navigator\r\n        .share({\r\n          title: t.app_name,\r\n          text: shareText,\r\n          url: cardUrl,\r\n        })\r\n        .catch((error) => console.log(\"Error sharing\", error));\r\n    } else {\r\n      // Fallback for desktop: copy text to clipboard\r\n      copyLink(shareText, (message) => alert(message));\r\n    }\r\n  };\r\n\r\n  // Logic to download the QR code as a PNG file\r\n  const downloadQrCode = () => {\r\n    const svg = document.querySelector(\"#qr-code-to-download svg\");\r\n    if (svg) {\r\n      const svgData = new XMLSerializer().serializeToString(svg);\r\n      const canvas = document.createElement(\"canvas\");\r\n      const svgSize = 500;\r\n      canvas.width = svgSize;\r\n      canvas.height = svgSize;\r\n      const ctx = canvas.getContext(\"2d\");\r\n      const img = new Image();\r\n      img.onload = function () {\r\n        ctx.drawImage(img, 0, 0, svgSize, svgSize);\r\n        const pngFile = canvas.toDataURL(\"image/png\");\r\n        const downloadLink = document.createElement(\"a\");\r\n        downloadLink.href = pngFile;\r\n        downloadLink.download = `share-${item.id}-${lang}.png`;\r\n        document.body.appendChild(downloadLink);\r\n        downloadLink.click();\r\n        document.body.removeChild(downloadLink);\r\n      };\r\n      // Note: Data URL conversion is necessary for images created from SVG\r\n      img.src =\r\n        \"data:image/svg+xml;base64,\" +\r\n        btoa(unescape(encodeURIComponent(svgData)));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 pt-8 h-full overflow-y-auto\">\r\n      <button\r\n        onClick={onBack}\r\n        className={`text-sm font-semibold mb-4 flex items-center ${ACCENT_COLOR} hover:text-red-700 transition-colors`}\r\n      >\r\n        <ChevronLeft className=\"w-5 h-5 mr-1\" />\r\n        {t.back}\r\n      </button>\r\n\r\n      <h1 className=\"text-3xl font-extrabold mb-2 text-gray-800\">\r\n        {lang === \"en\" ? item.title_en : item.title_th}\r\n      </h1>\r\n\r\n      <div className=\"flex justify-between items-center mb-6 border-b pb-4\">\r\n        <p className=\"text-base font-semibold text-gray-500\">{item.language}</p>\r\n        <button\r\n          onClick={toggleBookmark}\r\n          className={`p-2 rounded-full transition-colors ${\r\n            isBookmarked\r\n              ? \"bg-yellow-400 text-white\"\r\n              : \"bg-gray-200 text-gray-600 hover:bg-yellow-300\"\r\n          }`}\r\n        >\r\n          <Bookmark className=\"w-6 h-6 fill-current\" />\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"bg-gray-50 p-6 rounded-xl shadow-inner mb-6\">\r\n        <p className=\"text-xl leading-relaxed text-gray-700 whitespace-pre-line\">\r\n          {lang === \"en\" ? item.verse_en : item.verse_th}\r\n        </p>\r\n        <p className=\"text-sm font-semibold text-gray-500 mt-4\">\r\n          Program Number: {item.id}\r\n        </p>\r\n      </div>\r\n\r\n      {/* --- SHARE / EXPORT SECTION --- */}\r\n      <h2 className=\"text-lg font-bold mb-3 mt-6 text-gray-800\">\r\n        Share This Message\r\n      </h2>\r\n      <div className=\"grid grid-cols-2 gap-3 mb-6\">\r\n        {/* Mobile Share Button / Desktop Copy Text */}\r\n        <button\r\n          onClick={handleShare}\r\n          className=\"p-3 font-bold text-white rounded-xl bg-green-500 transition-colors hover:bg-green-600 shadow-md flex items-center justify-center\"\r\n        >\r\n          <Share2 className=\"w-5 h-5 mr-2\" /> Share/Copy\r\n        </button>\r\n\r\n        {/* QR Code Download Button */}\r\n        <button\r\n          onClick={downloadQrCode}\r\n          className=\"p-3 font-bold text-brand-red border border-brand-red rounded-xl transition-colors hover:bg-red-50 shadow-md flex items-center justify-center\"\r\n        >\r\n          <Download className=\"w-5 h-5 mr-2\" /> Download QR (PNG)\r\n        </button>\r\n      </div>\r\n\r\n      {/* QR Code Display for Download */}\r\n      <div className=\"flex flex-col items-center p-4 bg-white rounded-xl shadow-inner\">\r\n        <p className=\"text-sm text-gray-600 mb-2\">\r\n          Scan to share this specific card.\r\n        </p>\r\n        <div id=\"qr-code-to-download\">\r\n          <QRCodeDisplay url={cardUrl} size={200} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Placeholder for Notes Section */}\r\n      <div className=\"p-4 bg-red-50 border-l-4 border-brand-red rounded-lg mt-6\">\r\n        <h2 className=\"text-lg font-semibold text-gray-700\">My Notes</h2>\r\n        <p className=\"text-sm text-gray-500\">\r\n          Notes feature coming soon! You can view all saved notes on the Notes\r\n          page.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Home Page Component\r\nconst HomePage = ({ lang, t, onSelect }) => {\r\n  return (\r\n    <div className=\"p-4 pt-8 h-full overflow-y-auto\">\r\n      <h1 className=\"text-2xl font-bold text-gray-800 mb-6\">{t.contents}</h1>\r\n      {staticContent.map((item) => (\r\n        <ContentCard\r\n          key={item.id}\r\n          item={item}\r\n          lang={lang}\r\n          onSelect={onSelect}\r\n        />\r\n      ))}\r\n      <div className=\"h-10\"></div> {/* Spacer for bottom bar */}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Bookmarks Page Component\r\nconst BookmarksPage = ({ lang, t, onSelect, userData }) => {\r\n  const bookmarkedItems = useMemo(() => {\r\n    return staticContent.filter((item) => userData.bookmarks.includes(item.id));\r\n  }, [userData.bookmarks]);\r\n\r\n  return (\r\n    <div className=\"p-4 pt-8 h-full overflow-y-auto\">\r\n      <h1 className=\"text-2xl font-bold text-gray-800 mb-6\">{t.bookmarks}</h1>\r\n      {bookmarkedItems.length > 0 ? (\r\n        bookmarkedItems.map((item) => (\r\n          <ContentCard\r\n            key={item.id}\r\n            item={item}\r\n            lang={lang}\r\n            onSelect={onSelect}\r\n          />\r\n        ))\r\n      ) : (\r\n        <div className=\"text-center p-8 text-gray-500\">\r\n          <p>{t.no_bookmarks}</p>\r\n          <p className=\"text-sm mt-2\">{t.bookmark_tip}</p>\r\n        </div>\r\n      )}\r\n      <div className=\"h-10\"></div> {/* Spacer */}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Search Component\r\nconst SearchPage = ({ lang, t, onSelect }) => {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n  // Filter content based on search term\r\n  const filteredContent = useMemo(() => {\r\n    if (!searchTerm) return [];\r\n    const lowerSearchTerm = searchTerm.toLowerCase();\r\n\r\n    return staticContent.filter((item) => {\r\n      // Check English title/verse, Thai title/verse, and language name\r\n      return (\r\n        item.language.toLowerCase().includes(lowerSearchTerm) ||\r\n        item.title_en.toLowerCase().includes(lowerSearchTerm) ||\r\n        item.title_th.toLowerCase().includes(lowerSearchTerm) ||\r\n        item.verse_en.toLowerCase().includes(lowerSearchTerm) ||\r\n        item.verse_th.toLowerCase().includes(lowerSearchTerm)\r\n      );\r\n    });\r\n  }, [searchTerm]);\r\n\r\n  const resultCount = filteredContent.length;\r\n\r\n  return (\r\n    <div className=\"p-4 pt-8 h-full overflow-y-auto\">\r\n      <h1 className=\"text-2xl font-bold text-gray-800 mb-6\">{t.search}</h1>\r\n\r\n      {/* Search Input Box */}\r\n      <div className=\"mb-4 sticky top-0 bg-gray-100 pb-4 z-10\">\r\n        <div className=\"relative\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder={t.search + \"...\"}\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"w-full p-3 pl-10 border border-gray-300 rounded-xl shadow-md focus:ring-brand-red focus:border-brand-red transition-all\"\r\n          />\r\n          <Search\r\n            className={`w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 ${ACCENT_COLOR}`}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Search Results */}\r\n      {searchTerm && (\r\n        <p className=\"text-sm text-gray-600 mb-4 font-semibold\">\r\n          {resultCount} {resultCount === 1 ? \"Result\" : \"Results\"} found.\r\n        </p>\r\n      )}\r\n\r\n      {resultCount > 0 ? (\r\n        filteredContent.map((item) => (\r\n          <ContentCard\r\n            key={item.id}\r\n            item={item}\r\n            lang={lang}\r\n            onSelect={onSelect}\r\n          />\r\n        ))\r\n      ) : searchTerm ? (\r\n        <div className=\"text-center p-8 text-gray-500\">\r\n          <p>No results found for \"{searchTerm}\".</p>\r\n          <p className=\"mt-2 text-sm\">\r\n            Try searching by title, language, or a verse snippet.\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"text-center p-8 text-gray-500\">\r\n          <p>Start typing to search all {staticContent.length} items.</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Settings Component with Auth UI\r\nconst SettingsPage = ({ lang, t, setLang, userId, logOut, signUp, signIn }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [authMessage, setAuthMessage] = useState(null);\r\n  // Crude check: Firebase anonymous IDs are long; real UIDs are usually shorter/different format\r\n  const isAnonymous =\r\n    userId && userId.length > 20 && !userId.startsWith(\"firebase:\");\r\n\r\n  const handleAuthAction = async (action) => {\r\n    if (action === \"signup\") {\r\n      const success = await signUp(email, password);\r\n      if (success) setAuthMessage(\"Sign up successful! You are now logged in.\");\r\n      else\r\n        setAuthMessage(\r\n          \"Sign up failed. Please check the error message in the console.\"\r\n        );\r\n    } else if (action === \"signin\") {\r\n      const success = await signIn(email, password);\r\n      if (success) setAuthMessage(\"Sign in successful!\");\r\n      else setAuthMessage(\"Sign in failed. Check your email/password.\");\r\n    }\r\n    // Clear inputs\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n    setTimeout(() => setAuthMessage(null), 5000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 pt-8 h-full overflow-y-auto\">\r\n      <h1 className=\"text-2xl font-bold text-gray-800 mb-6\">{t.settings}</h1>\r\n\r\n      <div className=\"bg-white p-4 rounded-xl shadow-md mb-6 border border-gray-100\">\r\n        <h2 className=\"text-lg font-semibold mb-2\">App Status</h2>\r\n        <p className=\"text-sm text-gray-600 mb-2\">\r\n          User ID:{\" \"}\r\n          <span className=\"font-mono text-xs text-brand-red\">\r\n            {userId ? userId : \"Loading...\"}\r\n          </span>\r\n        </p>\r\n        <p\r\n          className={`text-sm font-bold ${\r\n            isAnonymous ? \"text-orange-500\" : \"text-green-600\"\r\n          }`}\r\n        >\r\n          Status: {isAnonymous ? \"Guest (Anonymous)\" : \"Registered User\"}\r\n        </p>\r\n\r\n        <h2 className=\"text-lg font-semibold mt-4 mb-2\">Language</h2>\r\n        <LanguageToggle lang={lang} setLang={setLang} t={t} />\r\n      </div>\r\n\r\n      {authMessage && (\r\n        <div className=\"p-3 mb-4 rounded-lg bg-green-100 text-green-700 font-semibold\">\r\n          {authMessage}\r\n        </div>\r\n      )}\r\n\r\n      {/* Authentication Form */}\r\n      <div className=\"bg-white p-4 rounded-xl shadow-md mb-6 border border-gray-100\">\r\n        <h2 className=\"text-lg font-bold text-gray-800 mb-4\">\r\n          Email Authentication\r\n        </h2>\r\n\r\n        {isAnonymous ? (\r\n          <>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              className=\"w-full p-3 border border-gray-300 rounded-lg mb-3 focus:ring-brand-red focus:border-brand-red\"\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              className=\"w-full p-3 border border-gray-300 rounded-lg mb-4 focus:ring-brand-red focus:border-brand-red\"\r\n            />\r\n\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <button\r\n                onClick={() => handleAuthAction(\"signin\")}\r\n                className=\"p-3 font-bold text-white rounded-xl bg-brand-red transition-colors hover:bg-red-800\"\r\n              >\r\n                Sign In\r\n              </button>\r\n              <button\r\n                onClick={() => handleAuthAction(\"signup\")}\r\n                className=\"p-3 font-bold text-brand-red border border-brand-red rounded-xl transition-colors hover:bg-red-50\"\r\n              >\r\n                Sign Up\r\n              </button>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <button\r\n            onClick={logOut}\r\n            className=\"w-full p-3 font-bold text-white rounded-xl bg-red-600 transition-colors hover:bg-red-700\"\r\n          >\r\n            Log Out\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Side Drawer Component\r\nconst SideDrawer = ({ isOpen, onClose, userId, navigate, t, appUrl }) => {\r\n  const [showQr, setShowQr] = useState(false); // State for QR code visibility\r\n\r\n  // Nav items definition\r\n  const navItems = [\r\n    {\r\n      key: \"home\",\r\n      label: t.contents,\r\n      icon: Home,\r\n      action: () => navigate(\"home\"),\r\n    },\r\n    {\r\n      key: \"search\",\r\n      label: t.search,\r\n      icon: Search,\r\n      action: () => navigate(\"search\"),\r\n    },\r\n    {\r\n      key: \"bookmarks\",\r\n      label: t.bookmarks,\r\n      icon: Bookmark,\r\n      action: () => navigate(\"bookmarks\"),\r\n    },\r\n    {\r\n      key: \"notes\",\r\n      label: t.notes,\r\n      icon: Pen,\r\n      action: () => navigate(\"notes\"),\r\n    },\r\n    // This is the functional share button that toggles the QR code\r\n    {\r\n      key: \"share\",\r\n      label: t.share_app,\r\n      icon: Share2,\r\n      action: () => setShowQr((p) => !p),\r\n    },\r\n    {\r\n      key: \"settings\",\r\n      label: t.settings,\r\n      icon: Settings,\r\n      action: () => navigate(\"settings\"),\r\n    },\r\n    // Changed key from 'share' to 'website' to fix the console warning\r\n    {\r\n      key: \"website\",\r\n      label: \"5fish Website\",\r\n      icon: Zap,\r\n      action: () => window.open(\"https://5fish.mobi\", \"_blank\"),\r\n    },\r\n  ];\r\n\r\n  const handleNavigate = (path) => {\r\n    navigate(path);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`fixed inset-0 z-40 transform ${\r\n        isOpen ? \"translate-x-0\" : \"-translate-x-full\"\r\n      } transition-transform duration-300 ease-in-out`}\r\n    >\r\n      {/* Backdrop */}\r\n      <div\r\n        className=\"absolute inset-0 bg-black opacity-50\"\r\n        onClick={onClose}\r\n      ></div>\r\n\r\n      {/* Drawer Content */}\r\n      <div\r\n        className={`relative w-64 bg-gray-50 h-full shadow-2xl flex flex-col`}\r\n      >\r\n        <div\r\n          className={`p-4 ${PRIMARY_COLOR} flex justify-between items-center`}\r\n        >\r\n          <h2 className=\"text-xl font-bold text-white\">{t.menu}</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-white p-1 hover:bg-red-800 rounded-full transition-colors\"\r\n          >\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Nav Items */}\r\n        <nav className=\"flex-1 overflow-y-auto p-4\">\r\n          {navItems.map((item) => (\r\n            <button\r\n              key={item.key}\r\n              onClick={() =>\r\n                item.path ? handleNavigate(item.path) : item.action()\r\n              }\r\n              className={`flex items-center w-full p-3 rounded-xl text-left text-gray-700 hover:bg-gray-200 transition-colors mb-2 ${ACCENT_COLOR}`}\r\n            >\r\n              {item.icon && (\r\n                <item.icon className={`w-5 h-5 mr-3 ${ACCENT_COLOR}`} />\r\n              )}\r\n              <span className=\"font-semibold\">{item.label}</span>\r\n            </button>\r\n          ))}\r\n        </nav>\r\n\r\n        {/* QR Code Display */}\r\n        <div className=\"p-4 border-t border-gray-200\">\r\n          {showQr && (\r\n            <div className=\"text-center\">\r\n              <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">\r\n                {t.qr_code}\r\n              </h3>\r\n              <QRCodeDisplay url={appUrl} size={150} />\r\n              <p className=\"text-xs text-gray-500 mt-2 break-all\">{appUrl}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <footer className=\"p-4 border-t border-gray-200 text-center text-xs text-gray-500\">\r\n          <p>Powered by 5fish</p>\r\n          <p>App Version 1.0</p>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- MAIN APP COMPONENT ---\r\nexport default function App() {\r\n  const [lang, setLang] = useState(localStorage.getItem(\"appLang\") || \"en\");\r\n  const t = i18n[lang] || i18n.en;\r\n\r\n  const [page, setPage] = useState(\"home\");\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\r\n\r\n  // Call custom hook to manage authentication and data\r\n  const {\r\n    isAuthReady,\r\n    userId,\r\n    userData,\r\n    saveUserData,\r\n    error,\r\n    signUp,\r\n    signIn,\r\n    logOut,\r\n  } = useFirebase(setLang);\r\n\r\n  const navigate = (path, item = null) => {\r\n    setPage(path);\r\n    setSelectedItem(item);\r\n  };\r\n\r\n  // EFFECT: Checks URL for shared card ID on mount\r\n  useEffect(() => {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const cardId = urlParams.get(\"card\");\r\n    const shareLang = urlParams.get(\"lang\");\r\n\r\n    if (cardId) {\r\n      const item = staticContent.find((i) => i.id === parseInt(cardId));\r\n      if (item) {\r\n        // Navigate to the specific card\r\n        navigate(\"detail\", item);\r\n        // Optionally set the language if shared that way\r\n        if (shareLang && (shareLang === \"en\" || shareLang === \"th\")) {\r\n          setLang(shareLang);\r\n        }\r\n      }\r\n    }\r\n  }, [setLang]); // Include setLang in dependency array\r\n\r\n  // Helper to render the current page content\r\n  const renderContent = () => {\r\n    if (!isAuthReady) {\r\n      return (\r\n        <div className=\"p-8 text-center text-gray-600\">\r\n          Loading authentication...\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (error) {\r\n      return (\r\n        <div className=\"p-8 text-center text-red-600 font-bold\">\r\n          Error: {error}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    switch (page) {\r\n      case \"detail\":\r\n        return (\r\n          <ContentView\r\n            item={selectedItem}\r\n            lang={lang}\r\n            t={t}\r\n            onBack={() => setPage(\"home\")}\r\n            userData={userData}\r\n            saveUserData={saveUserData}\r\n          />\r\n        );\r\n\r\n      case \"search\":\r\n        return (\r\n          <SearchPage\r\n            lang={lang}\r\n            t={t}\r\n            onSelect={(item) => navigate(\"detail\", item)}\r\n          />\r\n        );\r\n\r\n      case \"bookmarks\":\r\n        return (\r\n          <BookmarksPage\r\n            lang={lang}\r\n            t={t}\r\n            onSelect={(item) => navigate(\"detail\", item)}\r\n            userData={userData}\r\n          />\r\n        );\r\n\r\n      case \"notes\":\r\n        return (\r\n          <div className=\"p-4 pt-8 text-center text-gray-500\">\r\n            <h1 className=\"text-2xl font-bold mb-4\">{t.notes}</h1>\r\n            <p>This page is ready to be built!</p>\r\n          </div>\r\n        );\r\n\r\n      case \"settings\":\r\n        return (\r\n          <SettingsPage\r\n            lang={lang}\r\n            t={t}\r\n            setLang={setLang}\r\n            userId={userId}\r\n            logOut={logOut}\r\n            signUp={signUp}\r\n            signIn={signIn}\r\n          />\r\n        );\r\n\r\n      case \"home\":\r\n      default:\r\n        return (\r\n          <HomePage\r\n            lang={lang}\r\n            t={t}\r\n            onSelect={(item) => navigate(\"detail\", item)}\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-md mx-auto h-screen flex flex-col bg-gray-100 shadow-xl\">\r\n      {/* Header */}\r\n      <header\r\n        className={`sticky top-0 w-full ${PRIMARY_COLOR} p-4 shadow-lg z-30 flex justify-between items-center`}\r\n      >\r\n        <button\r\n          onClick={() => setIsDrawerOpen(true)}\r\n          className=\"text-white p-1 rounded-lg hover:bg-red-800 transition-colors\"\r\n        >\r\n          <Menu className=\"w-7 h-7\" />\r\n        </button>\r\n        <h1 className=\"text-xl font-bold text-white tracking-wide truncate px-2\">\r\n          {t.app_name}\r\n        </h1>\r\n        <LanguageToggle lang={lang} setLang={setLang} t={t} />\r\n      </header>\r\n\r\n      {/* Main Content Area */}\r\n      <main className=\"flex-1 overflow-y-auto\">{renderContent()}</main>\r\n\r\n      {/* Side Drawer */}\r\n      <SideDrawer\r\n        isOpen={isDrawerOpen}\r\n        onClose={() => setIsDrawerOpen(false)}\r\n        userId={userId}\r\n        navigate={navigate}\r\n        t={t}\r\n        appUrl={window.location.href}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}